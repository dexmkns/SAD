<!-- Under-construction reminder / dismissible banner -->
<div id="labo-warning" class="labo-warning" role="region" aria-label="Page under construction">
  <div class="labo-warning-inner">
    <div class="labo-warning-icon" aria-hidden="true">⚠️</div>

    <div class="labo-warning-content">
      <h2 class="labo-warning-title">Page Under Construction</h2>
      <p class="labo-warning-text">This page is currently being updated. Some content or features may be missing. If you need immediate help, contact the BPLO team.</p>
    </div>

    <div class="labo-warning-actions" role="group" aria-label="Warning actions">
      <button id="labo-warning-contact" class="labo-btn-primary" type="button">Contact BPLO</button>
      <button id="labo-warning-back" class="labo-btn-ghost" type="button">Back</button>
      <button id="labo-warning-dismiss" class="labo-btn-ghost" aria-label="Dismiss this notice" type="button">Dismiss</button>
    </div>
  </div>
</div>

<style>
  /* Simple, self-contained styles for the warning component */
  .labo-warning {
    --bg: #f1fbf3;
    --accent: #1f7a3a;
    max-width:100%;
    box-sizing:border-box;
    padding:12px 16px;
    border-radius:12px;
    background: linear-gradient(180deg, rgba(233,249,236,0.9), rgba(241,251,243,0.95));
    border: 1px solid rgba(31,122,58,0.08);
    box-shadow: 0 8px 26px rgba(15,23,42,0.04);
    margin: 18px 0;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  .labo-warning-inner { display:flex; gap:12px; align-items:center; max-width:var(--container,1100px); margin:0 auto; width:100%; }
  .labo-warning-icon { font-size:28px; padding:6px; border-radius:8px; background:#fff; box-shadow:0 6px 18px rgba(2,6,23,0.03); display:grid; place-items:center; flex:0 0 auto; }
  .labo-warning-content { flex:1 1 auto; min-width:0; }
  .labo-warning-title { margin:0; font-size:18px; font-weight:800; color:var(--accent); }
  .labo-warning-text { margin:6px 0 0 0; color:rgba(15,23,42,0.72); font-size:14px; max-width:720px; overflow-wrap:break-word; }
  .labo-warning-actions { margin-left:auto; display:flex; gap:8px; align-items:center; flex:0 0 auto; }
  .labo-btn-primary { background: linear-gradient(90deg,var(--accent),#3aa86a); color:#fff; border:none; padding:8px 14px; border-radius:10px; font-weight:800; cursor:pointer; box-shadow:0 8px 22px rgba(31,122,58,0.12); }
  .labo-btn-ghost { background:transparent; border:1px solid rgba(15,23,42,0.06); padding:8px 12px; border-radius:10px; cursor:pointer; color:var(--accent); font-weight:700; }
  /* Responsive */
  @media (max-width:820px){
    .labo-warning-inner { flex-direction:column; align-items:flex-start; gap:10px; }
    .labo-warning-actions { width:100%; justify-content:space-between; }
    .labo-warning-text { max-width:100%; }
  }
</style>

<script>
  (function(){
    const root = document.getElementById('labo-warning');
    if (!root) return;

    // Respect previously dismissed preference
    try {
      if (localStorage.getItem('labo_warning_dismissed') === '1') {
        root.style.display = 'none';
        return;
      }
    } catch(e){ /* ignore storage errors */ }

    // query buttons inside the root to avoid ID collisions when injected
    const btnDismiss = root.querySelector('#labo-warning-dismiss');
    const btnContact = root.querySelector('#labo-warning-contact');
    const btnBack = root.querySelector('#labo-warning-back');

    btnDismiss && btnDismiss.addEventListener('click', () => {
      root.style.transition = 'opacity .18s';
      root.style.opacity = '0';
      setTimeout(() => { root.style.display = 'none'; }, 180);
      try { localStorage.setItem('labo_warning_dismissed','1'); } catch(e){ }
    });

    btnContact && btnContact.addEventListener('click', () => {
      // prefer site contact section if available
      if (typeof scrollToSection === 'function') {
        scrollToSection('#contact');
        return;
      }
      const el = document.querySelector('#contact');
      if (el) {
        el.scrollIntoView({behavior:'smooth',block:'start'});
        return;
      }
      // fallback: open mail client
      window.location.href = 'mailto:bplo@labo.gov.ph';
    });

    btnBack && btnBack.addEventListener('click', () => {
      // try to go back in history; if no history, go to index.html
      if (window.history && window.history.length > 1) {
        window.history.back();
      } else {
        window.location.href = 'index.html';
      }
    });

    // allow close with ESC key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (btnDismiss) btnDismiss.click();
      }
    });
  })();
</script>