<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login / Sign Up — LABOCONNECT</title>
<link rel="stylesheet" href="../css/global.css">
<style>
  .auth-modal { display:none; position:fixed; inset:0; background:rgba(8,12,10,0.5); z-index:1500; align-items:center; justify-content:center; padding:20px; }
  .auth-modal.open { display:flex; }
  .auth-modal-panel { background:#fff; border-radius:12px; width:100%; max-width:420px; padding:28px; box-shadow:0 20px 60px rgba(2,6,23,0.3); position:relative; }
  .auth-modal-close { position:absolute; right:14px; top:14px; background:none; border:none; font-size:20px; cursor:pointer; color:var(--muted); }
  .auth-tabs { display:flex; gap:12px; margin-bottom:20px; border-bottom:1px solid rgba(15,23,42,0.08); }
  .auth-tab { padding:10px 12px; background:none; border:none; cursor:pointer; font-weight:700; color:var(--muted); border-bottom:3px solid transparent; transition:0.18s; }
  .auth-tab.active { color:var(--accent); border-bottom-color:var(--accent); }
  .auth-form { display:none; }
  .auth-form.active { display:block; }
  .auth-field { display:flex; flex-direction:column; gap:6px; margin-bottom:12px; }
  .auth-field label { font-weight:700; font-size:14px; }
  .auth-field input, .auth-field select { padding:10px 12px; border-radius:8px; border:1px solid rgba(15,23,42,0.08); font-size:14px; }
  .auth-field input:focus, .auth-field select:focus { outline:none; box-shadow:0 6px 18px rgba(21,112,58,0.08); border-color:var(--accent); }
  .auth-btn { width:100%; padding:12px; border-radius:8px; font-weight:700; border:none; cursor:pointer; transition:0.18s; margin-top:6px; }
  .auth-btn-primary { background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; }
  .auth-btn-primary:hover { box-shadow:0 10px 28px rgba(21,112,58,0.12); }
  .auth-role-select { display:flex; gap:12px; margin-bottom:14px; }
  .auth-role-btn { flex:1; padding:10px; border-radius:8px; border:2px solid rgba(15,23,42,0.08); background:#f7faf7; cursor:pointer; font-weight:700; transition:0.18s; }
  .auth-role-btn.selected { border-color:var(--accent); background:rgba(21,112,58,0.06); color:var(--accent); }
</style>
</head>

<body style="display:none">

<!-- Auth Modal (hidden by default, shown via JS) -->
<div id="authModal" class="auth-modal" role="dialog" aria-modal="true" aria-labelledby="authTitle">
  <div class="auth-modal-panel">
    <button class="auth-modal-close" onclick="closeAuthModal()" aria-label="Close">✕</button>
    
    <h2 id="authTitle" style="margin:0 0 8px 0; font-size:20px; font-weight:800;">Welcome to LABOCONNECT</h2>
    <p class="muted" style="margin:0 0 16px 0; font-size:14px;">Log in or sign up to manage your business or permits.</p>

    <div class="auth-tabs">
      <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
      <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
    </div>

    <!-- LOGIN -->
    <form id="loginForm" class="auth-form active" onsubmit="handleLogin(event)">
      <div class="auth-field">
        <label for="loginEmail">Email Address *</label>
        <input id="loginEmail" type="email" required placeholder="you@example.com">
      </div>
      <div class="auth-field">
        <label for="loginPassword">Password *</label>
        <input id="loginPassword" type="password" required placeholder="••••••••">
      </div>
      <button type="submit" class="auth-btn auth-btn-primary">Login</button>
      <div class="muted" style="text-align:center; margin-top:10px; font-size:13px;">
        <a href="#" style="color:var(--accent); text-decoration:none;">Forgot password?</a>
      </div>
    </form>

    <!-- SIGNUP -->
    <form id="signupForm" class="auth-form" onsubmit="handleSignup(event)">
      <div class="auth-role-select">
        <button type="button" class="auth-role-btn selected" onclick="selectRole('business')">Business Owner</button>
        <button type="button" class="auth-role-btn" onclick="selectRole('admin')">BPLO Staff</button>
      </div>
      <input type="hidden" id="selectedRole" value="business">

      <div class="auth-field">
        <label for="signupName">Full Name *</label>
        <input id="signupName" type="text" required placeholder="Your Full Name">
      </div>
      <div class="auth-field">
        <label for="signupEmail">Email Address *</label>
        <input id="signupEmail" type="email" required placeholder="you@example.com">
      </div>
      <div class="auth-field">
        <label for="signupPassword">Password *</label>
        <input id="signupPassword" type="password" required placeholder="••••••••">
      </div>
      <div class="auth-field">
        <label for="signupConfirm">Confirm Password *</label>
        <input id="signupConfirm" type="password" required placeholder="••••••••">
      </div>

      <div id="businessFields" style="display:block;">
        <div class="auth-field">
          <label for="companyName">Company Name</label>
          <input id="companyName" type="text" placeholder="Your Company Name">
        </div>
        <div class="auth-field">
          <label for="businessType">Business Type</label>
          <select id="businessType">
            <option value="">Select Business Type</option>
            <option>Retail</option>
            <option>Manufacturing</option>
            <option>Tourism & Hospitality</option>
            <option>Agriculture</option>
            <option>Technology</option>
            <option>Other</option>
          </select>
        </div>
      </div>

      <div id="adminFields" style="display:none;">
        <div class="auth-field">
          <label for="staffID">Staff ID *</label>
          <input id="staffID" type="text" placeholder="Enter BPLO Staff ID">
        </div>
        <div class="auth-field">
          <label for="department">Department</label>
          <input id="department" type="text" placeholder="e.g. Permits, Licensing">
        </div>
      </div>

      <button type="submit" class="auth-btn auth-btn-primary">Create Account</button>
    </form>
  </div>
</div>

<script>
  function switchAuthTab(tab) {
    document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
    event.target.classList.add('active');
    document.getElementById(tab === 'login' ? 'loginForm' : 'signupForm').classList.add('active');
  }

  function selectRole(role) {
    document.getElementById('selectedRole').value = role;
    document.querySelectorAll('.auth-role-btn').forEach(btn => btn.classList.remove('selected'));
    event.target.classList.add('selected');
    document.getElementById('businessFields').style.display = role === 'business' ? 'block' : 'none';
    document.getElementById('adminFields').style.display = role === 'admin' ? 'block' : 'none';
  }

  function handleLogin(e) {
    e.preventDefault();
    const email = document.getElementById('loginEmail').value;
    alert('Login attempt: ' + email);
    closeAuthModal();
  }

  function handleSignup(e) {
    e.preventDefault();
    const role = document.getElementById('selectedRole').value;
    const email = document.getElementById('signupEmail').value;
    alert('Signup: ' + email + ' as ' + role);
    closeAuthModal();
  }

  function openAuthModal() {
    document.getElementById('authModal').classList.add('open');
    document.getElementById('authModal').setAttribute('aria-hidden', 'false');
  }

  function closeAuthModal() {
    document.getElementById('authModal').classList.remove('open');
    document.getElementById('authModal').setAttribute('aria-hidden', 'true');
  }

  document.getElementById('authModal').addEventListener('click', (e) => {
    if (e.target.id === 'authModal') closeAuthModal();
  });
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && document.getElementById('authModal').classList.contains('open')) closeAuthModal();
  });
</script>

</body>
</html>
